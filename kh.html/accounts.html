<!DOCTYPE html>
<html lang="km">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>គណនី</title>
    <!-- Google Font Kantumruy Pro -->
    <link href="https://fonts.googleapis.com/css2?family=Kantumruy+Pro:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/account.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Chart.js library -->
</head>
<body>

    <!-- ផ្នែកត_HEAD -->
    <header class="header">
        <div class="logo">
            <img src="../image/logowhite.png" alt="VietBank Logo">
        </div>
    </header>

    <!-- ផ្នែកប្រវត្តិនាក់ប្រើ -->
    <div class="profile-container">
        <!-- ប្រវត្តិមាការ -->
        <div class="profile-header">
            <img src="../image/makara.jpg" alt="User Avatar" class="profile-avatar">
            <h2>មករា</h2>
        </div>

        <!-- បាត្ដការប្រាក់មាការ -->
        <div class="balance-card">
            <img src="../image/Vietnam.png" alt="Mastercard Logo" class="card-logo">
            <p class="balance-title">ចំនួនទឹកប្រាក់ សរុប (USD)</p>
            <p class="balance-amount" id="makaraBalance" contenteditable="true">$2890</p>
            <div class="balance-details">
                <div>
                    <p><strong>ភាគរយៈសន្សំ</strong></p>
                    <p>3% </p>
                </div>
                <div>
                    <p><strong>ការប្រាក់</strong></p>
                    <p>$33/ខែ</p>
                </div>
            </div>
        </div>

        <!-- ប្រវត្តិហេម -->
        <div class="profile-header">
            <img src="../image/channea.jpg" alt="User Avatar" class="profile-avatar">
            <h2>ចាន់ នា</h2>
        </div>

        <!-- បាត្ដការប្រាក់ហេម -->
        <div class="balance-card">
            <img src="../image/Cambodia.png" alt="Mastercard Logo" class="card-logo">
            <p class="balance-title">ចំនួនទឹកប្រាក់ សរុប (USD)</p>
            <p class="balance-amount" id="heamBalance" contenteditable="true">$50</p>
            <div class="balance-details">
                <div>
                    <p><strong>ភាគរយៈសន្សំ</strong></p>
                    <p>3%</p>
                </div>
                <div>
                    <p><strong>ការប្រាក់</strong></p>
                    <p>$5/ខែ</p>
                </div>
            </div>
        </div>

        <!-- ពិធីកម្ម TradingView ជាមួយចំណងជើង -->
        <div class="world-balance-widget">
            <h3>ដៃគូពិភពលោក</h3>
            <div class="tradingview-widget-container" id="tradingview-widget">
                <div class="tradingview-widget-container__widget"></div>
                <div class="tradingview-widget-copyright">
                    <a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank">
                        <span class="blue-text">តាមដានទីផ្សារទាំងអស់នៅលើ TradingView</span>
                    </a>
                </div>
            </div>
        </div>

    </div>

    <!-- JavaScript ដើម្បីផ្ទុក account.json និងកំណត់ការតំរូវ TradingView widget -->
    <script>
        // ផ្ទុក JSON និងបញ្ចូលស្គ្រីប widget
        fetch('../json/account.json')
            .then(response => response.json())
            .then(config => {
                // បង្កើតធាតុស្គ្រីបថ្មី
                const script = document.createElement('script');
                script.type = 'text/javascript';
                script.src = 'https://s3.tradingview.com/external-embedding/embed-widget-forex-cross-rates.js';
                script.async = true;

                // កំណត់កំណត់ JSON ជាមួយកូដស្គ្រីប
                script.textContent = JSON.stringify(config);

                // បញ្ចូលស្គ្រីបទៅក្នុង container TradingView
                document.getElementById('tradingview-widget').appendChild(script);
            })
            .catch(error => console.error('កំហុសក្នុងការផ្ទុកការកំណត់ TradingView:', error));
    </script>

    <script src="../javascript/account.js"></script>
</body>
</html>
